<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SkillSwap - Connect & Learn</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

      :root {
          --primary-gradient: linear-gradient(135deg, #3858e7 0%, #764ba2 100%);
          --secondary-gradient: linear-gradient(135deg, #dfe146 0%, #f5576c 100%);
          --accent-gradient: linear-gradient(135deg, #4facfe 0%, #18d3d3 100%);
          --success-gradient: linear-gradient(135deg, #df319a 0%, #4caf50 100%);
          --warning-gradient: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
          --danger-gradient: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
          --glass-bg: rgba(255, 255, 255, 0.1);
          --glass-border: rgba(255, 255, 255, 0.2);
          --shadow-light: 0 8px 32px rgba(0, 0, 0, 0.1);
          --shadow-heavy: 0 20px 60px rgba(0, 0, 0, 0.2);
          --border-radius: 20px;
          --animation-fast: 0.3s;
          --animation-medium: 0.6s;
          --animation-slow: 1s;
      }

      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
      }

      body {
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background: var(--primary-gradient);
          min-height: 100vh;
          color: #333;
          overflow-x: hidden;
          position: relative;
      }

      /* Animated Background */
      body::before {
          content: '';
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background:
              radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
              radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
              radial-gradient(circle at 40% 60%, rgba(255, 255, 255, 0.05) 0%, transparent 50%);
          animation: backgroundPulse 20s ease-in-out infinite;
          pointer-events: none;
          z-index: -1;
      }

      @keyframes backgroundPulse {
          0%, 100% { opacity: 0.3; }
          50% { opacity: 0.6; }
      }

      /* Floating Elements */
      .floating-shapes {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          z-index: -1;
      }

      .floating-shape {
          position: absolute;
          border-radius: 50%;
          background: rgba(255, 255, 255, 0.1);
          animation: float 15s ease-in-out infinite;
      }

      .floating-shape:nth-child(1) {
          width: 100px;
          height: 100px;
          top: 20%;
          left: 10%;
          animation-delay: 0s;
      }

      .floating-shape:nth-child(2) {
          width: 60px;
          height: 60px;
          top: 60%;
          left: 80%;
          animation-delay: 5s;
      }

      .floating-shape:nth-child(3) {
          width: 80px;
          height: 80px;
          top: 80%;
          left: 20%;
          animation-delay: 10s;
      }

      @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          25% { transform: translateY(-20px) rotate(90deg); }
          50% { transform: translateY(-40px) rotate(180deg); }
          75% { transform: translateY(-20px) rotate(270deg); }
      }

      /* Advanced Navigation */
      nav {
          background: rgba(255, 255, 255, 0.1);
          backdrop-filter: blur(20px);
          border-bottom: 1px solid var(--glass-border);
          padding: 1rem 2rem;
          position: sticky;
          top: 0;
          z-index: 1000;
          box-shadow: var(--shadow-light);
          transition: all var(--animation-fast) ease;
      }

      nav:hover {
          background: rgba(255, 255, 255, 0.15);
          box-shadow: var(--shadow-heavy);
      }

      .nav-container {
          max-width: 1200px;
          margin: 0 auto;
          display: flex;
          justify-content: space-between;
          align-items: center;
      }

      .logo {
          font-size: 1.8rem;
          font-weight: 800;
          background: linear-gradient(45deg, #fff, #f0f0f0);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
          animation: logoGlow 3s ease-in-out infinite alternate;
      }

      @keyframes logoGlow {
          from { filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.3)); }
          to { filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.6)); }
      }

      .login-btn {
          background: var(--accent-gradient);
          color: white;
          border: none;
          padding: 0.8rem 2rem;
          border-radius: 50px;
          font-weight: 600;
          cursor: pointer;
          transition: all var(--animation-fast) ease;
          box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
          position: relative;
          overflow: hidden;
      }

      .login-btn::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
          transition: left 0.5s ease;
      }

      .login-btn:hover::before {
          left: 100%;
      }

      .login-btn:hover {
          transform: translateY(-3px) scale(1.05);
          box-shadow: 0 8px 25px rgba(79, 172, 254, 0.5);
      }

      /* Main Container */
      .main-container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 2rem;
      }

      /* Enhanced Hero Section */
      .hero {
          text-align: center;
          margin-bottom: 4rem;
          animation: fadeInUp 0.8s ease-out;
          position: relative;
      }

      .hero::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 50%;
          width: 300px;
          height: 300px;
          background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
          border-radius: 50%;
          transform: translate(-50%, -50%);
          animation: heroPulse 4s ease-in-out infinite;
          z-index: -1;
      }

      @keyframes heroPulse {
          0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
          50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.6; }
      }

      .hero h1 {
          color: white;
          font-size: 3.5rem;
          margin-bottom: 1rem;
          font-weight: 800;
          text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
          animation: titleGlow 2s ease-in-out infinite alternate;
      }

      @keyframes titleGlow {
          from { text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); }
          to { text-shadow: 0 4px 30px rgba(255, 255, 255, 0.3); }
      }

      .hero p {
          color: rgba(255, 255, 255, 0.9);
          font-size: 1.3rem;
          margin-bottom: 2rem;
          font-weight: 300;
          animation: fadeIn 1s ease-out 0.5s both;
      }

      /* Advanced Search Section */
      .search-section {
          background: var(--glass-bg);
          backdrop-filter: blur(20px);
          border-radius: var(--border-radius);
          padding: 2.5rem;
          margin-bottom: 4rem;
          box-shadow: var(--shadow-light);
          animation: fadeInUp 0.8s ease-out 0.2s both;
          border: 1px solid var(--glass-border);
          position: relative;
          overflow: hidden;
      }

      .search-section::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
          animation: searchShimmer 3s ease-in-out infinite;
      }

      @keyframes searchShimmer {
          0% { left: -100%; }
          100% { left: 100%; }
      }

      .search-container {
          position: relative;
          max-width: 700px;
          margin: 0 auto;
      }

      .search-input {
          width: 100%;
          padding: 1.5rem 2rem 1.5rem 4rem;
          border: 2px solid rgba(255, 255, 255, 0.2);
          border-radius: 50px;
          font-size: 1.1rem;
          outline: none;
          transition: all var(--animation-fast) ease;
          background: rgba(255, 255, 255, 0.9);
          backdrop-filter: blur(10px);
          box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .search-input:focus {
          border-color: #4facfe;
          box-shadow: 0 0 0 4px rgba(79, 172, 254, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.1);
          transform: translateY(-2px);
      }

      .search-icon {
          position: absolute;
          left: 1.5rem;
          top: 50%;
          transform: translateY(-50%);
          color: #4facfe;
          font-size: 1.3rem;
          animation: searchPulse 2s ease-in-out infinite;
      }

      @keyframes searchPulse {
          0%, 100% { transform: translateY(-50%) scale(1); }
          50% { transform: translateY(-50%) scale(1.1); }
      }

      /* Enhanced User Grid */
      .user-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
          gap: 2.5rem;
          margin-bottom: 4rem;
      }

      .user-card {
          background: var(--glass-bg);
          backdrop-filter: blur(20px);
          border-radius: var(--border-radius);
          padding: 2.5rem;
          box-shadow: var(--shadow-light);
          transition: all var(--animation-medium) ease;
          border: 1px solid var(--glass-border);
          animation: fadeInUp 0.6s ease-out;
          position: relative;
          overflow: hidden;
      }

      .user-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 4px;
          background: var(--accent-gradient);
          transform: scaleX(0);
          transition: transform var(--animation-fast) ease;
      }

      .user-card:hover::before {
          transform: scaleX(1);
      }

      .user-card:hover {
          transform: translateY(-10px) scale(1.02);
          box-shadow: var(--shadow-heavy);
          border-color: rgba(255, 255, 255, 0.4);
      }

      .user-card:nth-child(even) {
          animation-delay: 0.1s;
      }

      .user-card:nth-child(3n) {
          animation-delay: 0.2s;
      }

      .user-avatar {
          width: 90px;
          height: 90px;
          border-radius: 50%;
          background: var(--accent-gradient);
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-size: 2.2rem;
          font-weight: 700;
          margin: 0 auto 1.5rem;
          box-shadow: 0 10px 30px rgba(79, 172, 254, 0.4);
          position: relative;
          overflow: hidden;
          transition: all var(--animation-fast) ease;
      }

      .user-avatar::before {
          content: '';
          position: absolute;
          top: -50%;
          left: -50%;
          width: 200%;
          height: 200%;
          background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
          animation: avatarShine 3s ease-in-out infinite;
      }

      @keyframes avatarShine {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
      }

      .user-card:hover .user-avatar {
          transform: scale(1.1) rotate(5deg);
          box-shadow: 0 15px 40px rgba(79, 172, 254, 0.6);
      }

      .user-name {
          font-size: 1.4rem;
          font-weight: 700;
          text-align: center;
          margin-bottom: 1.5rem;
          color: white;
          text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      .skills-section {
          margin-bottom: 2rem;
      }

      .skills-label {
          font-weight: 600;
          color: rgba(255, 255, 255, 0.9);
          margin-bottom: 0.8rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 1rem;
      }

      .skills-tags {
          display: flex;
          flex-wrap: wrap;
          gap: 0.8rem;
          margin-bottom: 1rem;
      }

      .skill-tag {
          background: var(--accent-gradient);
          color: white;
          padding: 0.6rem 1.2rem;
          border-radius: 25px;
          font-size: 0.9rem;
          font-weight: 600;
          box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
          transition: all var(--animation-fast) ease;
          position: relative;
          overflow: hidden;
      }

      .skill-tag::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
          transition: left 0.5s ease;
      }

      .skill-tag:hover::before {
          left: 100%;
      }

      .skill-tag:hover {
          transform: translateY(-2px) scale(1.05);
          box-shadow: 0 6px 20px rgba(79, 212, 233, 0.5);
      }

      .wants-tag {
          background: var(--secondary-gradient);
          color: white;
          padding: 0.6rem 1.2rem;
          border-radius: 25px;
          font-size: 0.9rem;
          font-weight: 600;
          box-shadow: 0 4px 15px rgba(240, 147, 251, 0.3);
          transition: all var(--animation-fast) ease;
          position: relative;
          overflow: hidden;
      }

      .wants-tag::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
          transition: left 0.5s ease;
      }

      .wants-tag:hover::before {
          left: 100%;
      }

      .wants-tag:hover {
          transform: translateY(-2px) scale(1.05);
          box-shadow: 0 6px 20px rgba(240, 147, 251, 0.5);
      }

      .swap-btn {
          width: 100%;
          background: var(--success-gradient);
          color: white;
          border: none;
          padding: 1.2rem 2rem;
          border-radius: 50px;
          font-weight: 700;
          cursor: pointer;
          transition: all var(--animation-fast) ease;
          font-size: 1.1rem;
          box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
          position: relative;
          overflow: hidden;
      }

      .swap-btn::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
          transition: left 0.5s ease;
      }

      .swap-btn:hover::before {
          left: 100%;
      }

      .swap-btn:hover {
          transform: translateY(-3px) scale(1.02);
          box-shadow: 0 10px 30px rgba(76, 175, 80, 0.6);
      }

      .swap-btn:active {
          transform: translateY(-1px) scale(0.98);
      }

      /* Enhanced Pagination */
      .pagination {
          display: flex;
          justify-content: center;
          gap: 1rem;
          margin-top: 3rem;
      }

      .pagination a {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 50px;
          height: 50px;
          border-radius: 50%;
          background: var(--glass-bg);
          backdrop-filter: blur(20px);
          color: white;
          text-decoration: none;
          font-weight: 700;
          transition: all var(--animation-fast) ease;
          box-shadow: var(--shadow-light);
          border: 1px solid var(--glass-border);
          position: relative;
          overflow: hidden;
      }

      .pagination a::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: var(--accent-gradient);
          opacity: 0;
          transition: opacity var(--animation-fast) ease;
      }

      .pagination a:hover::before,
      .pagination a.active::before {
          opacity: 1;
      }

      .pagination a:hover,
      .pagination a.active {
          transform: translateY(-3px) scale(1.1);
          box-shadow: var(--shadow-heavy);
      }

      .pagination a span {
          position: relative;
          z-index: 1;
      }

      /* Login Modal */
      .login-modal {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.7);
          backdrop-filter: blur(10px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 2000;
          opacity: 0;
          visibility: hidden;
          transition: all var(--animation-fast) ease;
      }

      .login-modal.show {
          opacity: 1;
          visibility: visible;
      }

      .login-content {
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(20px);
          border-radius: var(--border-radius);
          padding: 3rem;
          width: 90%;
          max-width: 450px;
          box-shadow: var(--shadow-heavy);
          transform: scale(0.8) rotateX(20deg);
          transition: all var(--animation-medium) ease;
          border: 1px solid var(--glass-border);
          position: relative;
          overflow: hidden;
      }

      .login-modal.show .login-content {
          transform: scale(1) rotateX(0deg);
      }

      .login-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2.5rem;
          position: relative;
          z-index: 1;
      }

      .login-title {
          font-size: 1.8rem;
          font-weight: 800;
          background: var(--primary-gradient);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
      }

      .login-close-btn {
          background: none;
          border: none;
          font-size: 1.8rem;
          cursor: pointer;
          color: #999;
          transition: all var(--animation-fast) ease;
          padding: 0.5rem;
          border-radius: 50%;
      }

      .login-close-btn:hover {
          color: #333;
          background: rgba(255, 0, 0, 0.1);
          transform: rotate(90deg) scale(1.2);
      }

      .login-form-group {
          margin-bottom: 2rem;
          position: relative;
          z-index: 1;
      }

      .login-form-label {
          display: block;
          margin-bottom: 0.8rem;
          font-weight: 700;
          color: #333;
          font-size: 1.1rem;
      }

      .login-form-input {
          width: 100%;
          padding: 1.2rem;
          border: 2px solid rgba(102, 126, 234, 0.2);
          border-radius: 15px;
          font-size: 1rem;
          outline: none;
          transition: all var(--animation-fast) ease;
          background: rgba(255, 255, 255, 0.9);
          backdrop-filter: blur(10px);
          font-family: inherit;
      }

      .login-form-input:focus {
          border-color: #667eea;
          box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15);
          transform: translateY(-2px);
      }

      .login-submit-btn {
          width: 100%;
          background: var(--primary-gradient);
          color: white;
          border: none;
          padding: 1.3rem 2rem;
          border-radius: 50px;
          font-weight: 700;
          cursor: pointer;
          transition: all var(--animation-fast) ease;
          font-size: 1.2rem;
          box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
          position: relative;
          overflow: hidden;
          z-index: 1;
      }

      .login-submit-btn::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
          transition: left 0.5s ease;
      }

      .login-submit-btn:hover::before {
          left: 100%;
      }

      .login-submit-btn:hover {
          transform: translateY(-3px) scale(1.02);
          box-shadow: 0 10px 30px rgba(102, 126, 234, 0.6);
      }

      .form-footer {
          text-align: center;
          margin-top: 1.5rem;
          color: #666;
      }

      .form-footer a {
          color: #667eea;
          text-decoration: none;
          font-weight: 600;
      }

      .form-footer a:hover {
          text-decoration: underline;
      }

      /* Register Modal */
      .register-modal {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.7);
          backdrop-filter: blur(10px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 2000;
          opacity: 0;
          visibility: hidden;
          transition: all var(--animation-fast) ease;
      }

      .register-modal.show {
          opacity: 1;
          visibility: visible;
      }

      .register-content {
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(20px);
          border-radius: var(--border-radius);
          padding: 3rem;
          width: 90%;
          max-width: 450px;
          box-shadow: var(--shadow-heavy);
          transform: scale(0.8) rotateX(20deg);
          transition: all var(--animation-medium) ease;
          border: 1px solid var(--glass-border);
          position: relative;
          overflow: hidden;
      }

      .register-modal.show .register-content {
          transform: scale(1) rotateX(0deg);
      }

      /* Advanced Modal */
      .modal {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.7);
          backdrop-filter: blur(10px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 2000;
          opacity: 0;
          visibility: hidden;
          transition: all var(--animation-fast) ease;
      }

      .modal.show {
          opacity: 1;
          visibility: visible;
      }

      .modal-content {
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(20px);
          border-radius: var(--border-radius);
          padding: 3rem;
          width: 90%;
          max-width: 550px;
          box-shadow: var(--shadow-heavy);
          transform: scale(0.8) rotateX(20deg);
          transition: all var(--animation-medium) ease;
          border: 1px solid var(--glass-border);
          position: relative;
          overflow: hidden;
      }

      .modal-content::before {
          content: '';
          position: absolute;
          top: -50%;
          left: -50%;
          width: 200%;
          height: 200%;
          background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
          animation: modalShine 4s ease-in-out infinite;
      }

      @keyframes modalShine {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
      }

      .modal.show .modal-content {
          transform: scale(1) rotateX(0deg);
      }

      .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2.5rem;
          position: relative;
          z-index: 1;
      }

      .modal-title {
          font-size: 1.8rem;
          font-weight: 800;
          background: var(--primary-gradient);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
      }

      .close-btn {
          background: none;
          border: none;
          font-size: 1.8rem;
          cursor: pointer;
          color: #999;
          transition: all var(--animation-fast) ease;
          padding: 0.5rem;
          border-radius: 50%;
      }

      .close-btn:hover {
          color: #333;
          background: rgba(255, 0, 0, 0.1);
          transform: rotate(90deg) scale(1.2);
      }

      .form-group {
          margin-bottom: 2rem;
          position: relative;
          z-index: 1;
      }

      .form-label {
          display: block;
          margin-bottom: 0.8rem;
          font-weight: 700;
          color: #333;
          font-size: 1.1rem;
      }

      .form-select, .form-textarea {
          width: 100%;
          padding: 1.2rem;
          border: 2px solid rgba(102, 126, 234, 0.2);
          border-radius: 15px;
          font-size: 1rem;
          outline: none;
          transition: all var(--animation-fast) ease;
          background: rgba(255, 255, 255, 0.9);
          backdrop-filter: blur(10px);
          font-family: inherit;
      }

      .form-select:focus, .form-textarea:focus {
          border-color: #667eea;
          box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15);
          transform: translateY(-2px);
      }

      .form-textarea {
          resize: vertical;
          min-height: 140px;
      }

      .submit-btn {
          width: 100%;
          background: var(--primary-gradient);
          color: white;
          border: none;
          padding: 1.3rem 2rem;
          border-radius: 50px;
          font-weight: 700;
          cursor: pointer;
          transition: all var(--animation-fast) ease;
          font-size: 1.2rem;
          box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
          position: relative;
          overflow: hidden;
          z-index: 1;
      }

      .submit-btn::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
          transition: left 0.5s ease;
      }

      .submit-btn:hover::before {
          left: 100%;
      }

      .submit-btn:hover {
          transform: translateY(-3px) scale(1.02);
          box-shadow: 0 10px 30px rgba(102, 126, 234, 0.6);
      }

      /* Profile Modal */
      .profile-modal {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.7);
          backdrop-filter: blur(10px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 2000;
          opacity: 0;
          visibility: hidden;
          transition: all var(--animation-fast) ease;
      }

      .profile-modal.show {
          opacity: 1;
          visibility: visible;
      }

      .profile-content {
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(20px);
          border-radius: var(--border-radius);
          padding: 3rem;
          width: 90%;
          max-width: 600px;
          box-shadow: var(--shadow-heavy);
          transform: scale(0.8) rotateX(20deg);
          transition: all var(--animation-medium) ease;
          border: 1px solid var(--glass-border);
          position: relative;
          overflow: hidden;
      }

      .profile-modal.show .profile-content {
          transform: scale(1) rotateX(0deg);
      }

      .profile-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2.5rem;
          position: relative;
          z-index: 1;
      }

      .profile-title {
          font-size: 1.8rem;
          font-weight: 800;
          background: var(--primary-gradient);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
      }

      .profile-close-btn {
          background: none;
          border: none;
          font-size: 1.8rem;
          cursor: pointer;
          color: #999;
          transition: all var(--animation-fast) ease;
          padding: 0.5rem;
          border-radius: 50%;
      }

      .profile-close-btn:hover {
          color: #333;
          background: rgba(255, 0, 0, 0.1);
          transform: rotate(90deg) scale(1.2);
      }

      .profile-body {
          display: flex;
          flex-direction: column;
          gap: 2rem;
      }

      .profile-info {
          display: flex;
          align-items: center;
          gap: 2rem;
      }

      .profile-avatar-large {
          width: 120px;
          height: 120px;
          border-radius: 50%;
          background: var(--accent-gradient);
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-size: 3rem;
          font-weight: 700;
          box-shadow: 0 10px 30px rgba(79, 172, 254, 0.4);
          position: relative;
          overflow: hidden;
      }

      .profile-details {
          flex: 1;
      }

      .profile-name-large {
          font-size: 1.8rem;
          font-weight: 800;
          margin-bottom: 0.5rem;
          color: #333;
      }

      .profile-email {
          font-size: 1.1rem;
          color: #666;
          margin-bottom: 1rem;
      }

      .profile-stats {
          display: flex;
          gap: 1.5rem;
      }

      .stat-item {
          text-align: center;
      }

      .stat-value {
          font-size: 1.5rem;
          font-weight: 800;
          color: #333;
          margin-bottom: 0.2rem;
      }

      .stat-label {
          font-size: 0.9rem;
          color: #666;
      }

      .profile-skills-section {
          margin-top: 1rem;
      }

      .profile-section-title {
          font-size: 1.3rem;
          font-weight: 700;
          margin-bottom: 1.5rem;
          color: #333;
          display: flex;
          align-items: center;
          gap: 0.5rem;
      }

      .profile-actions {
          display: flex;
          gap: 1rem;
          margin-top: 2rem;
      }

      .profile-action-btn {
          flex: 1;
          padding: 1rem;
          border-radius: 15px;
          font-weight: 600;
          cursor: pointer;
          transition: all var(--animation-fast) ease;
          text-align: center;
      }

      .edit-profile-btn {
          background: var(--accent-gradient);
          color: white;
          border: none;
          box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
      }

      .edit-profile-btn:hover {
          transform: translateY(-3px);
          box-shadow: 0 8px 25px rgba(79, 172, 254, 0.5);
      }

      .logout-profile-btn {
          background: var(--danger-gradient);
          color: white;
          border: none;
          box-shadow: 0 4px 15px rgba(255, 75, 43, 0.3);
      }

      .logout-profile-btn:hover {
          transform: translateY(-3px);
          box-shadow: 0 8px 25px rgba(255, 75, 43, 0.5);
      }

      /* Edit Profile Modal */
      .edit-profile-modal {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.7);
          backdrop-filter: blur(10px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 2000;
          opacity: 0;
          visibility: hidden;
          transition: all var(--animation-fast) ease;
      }

      .edit-profile-modal.show {
          opacity: 1;
          visibility: visible;
      }

      .edit-profile-content {
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(20px);
          border-radius: var(--border-radius);
          padding: 3rem;
          width: 90%;
          max-width: 600px;
          box-shadow: var(--shadow-heavy);
          transform: scale(0.8) rotateX(20deg);
          transition: all var(--animation-medium) ease;
          border: 1px solid var(--glass-border);
          position: relative;
          overflow: hidden;
      }

      .edit-profile-modal.show .edit-profile-content {
          transform: scale(1) rotateX(0deg);
      }

      .edit-skills-container {
          margin-top: 2rem;
      }

      .skills-input-container {
          display: flex;
          gap: 1rem;
          margin-bottom: 1rem;
      }

      .skills-input {
          flex: 1;
          padding: 1rem;
          border: 2px solid rgba(102, 126, 234, 0.2);
          border-radius: 15px;
          font-size: 1rem;
          outline: none;
          transition: all var(--animation-fast) ease;
          background: rgba(255, 255, 255, 0.9);
          backdrop-filter: blur(10px);
      }

      .add-skill-btn {
          background: var(--success-gradient);
          color: white;
          border: none;
          padding: 1rem 1.5rem;
          border-radius: 15px;
          font-weight: 600;
          cursor: pointer;
          transition: all var(--animation-fast) ease;
      }

      .add-skill-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
      }

      .skills-list {
          display: flex;
          flex-wrap: wrap;
          gap: 0.8rem;
          margin-top: 1rem;
      }

      .skill-item {
          background: var(--accent-gradient);
          color: white;
          padding: 0.6rem 1.2rem;
          border-radius: 25px;
          font-size: 0.9rem;
          font-weight: 600;
          display: flex;
          align-items: center;
          gap: 0.5rem;
      }

      .remove-skill-btn {
          background: none;
          border: none;
          color: white;
          cursor: pointer;
          font-size: 0.8rem;
      }

      /* Enhanced Animations */
      @keyframes fadeInUp {
          from {
              opacity: 0;
              transform: translateY(50px);
          }
          to {
              opacity: 1;
              transform: translateY(0);
          }
      }

      @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
      }

      @keyframes slideInRight {
          from {
              opacity: 0;
              transform: translateX(100px);
          }
          to {
              opacity: 1;
              transform: translateX(0);
          }
      }

      @keyframes bounceIn {
          0% {
              opacity: 0;
              transform: scale(0.3);
          }
          50% {
              opacity: 1;
              transform: scale(1.05);
          }
          70% {
              transform: scale(0.9);
          }
          100% {
              opacity: 1;
              transform: scale(1);
          }
      }

      /* Loading Animation */
      .loading {
          display: inline-block;
          width: 20px;
          height: 20px;
          border: 3px solid rgba(255, 255, 255, 0.3);
          border-radius: 50%;
          border-top-color: #fff;
          animation: spin 1s linear infinite;
      }

      @keyframes spin {
          to { transform: rotate(360deg); }
      }

      /* Empty State */
      .empty-state {
          text-align: center;
          padding: 4rem;
          color: rgba(255, 255, 255, 0.8);
          animation: fadeIn 0.5s ease-out;
      }

      .empty-state i {
          font-size: 5rem;
          margin-bottom: 1.5rem;
          opacity: 0.7;
          animation: emptyStateIcon 2s ease-in-out infinite;
      }

      @keyframes emptyStateIcon {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.1); }
      }

      .empty-state h3 {
          font-size: 2rem;
          margin-bottom: 1rem;
          font-weight: 700;
      }

      .empty-state p {
          font-size: 1.2rem;
          opacity: 0.8;
      }

      /* Success Notification */
      .success-notification {
          position: fixed;
          top: 20px;
          right: 20px;
          background: var(--success-gradient);
          color: white;
          padding: 1.5rem 2rem;
          border-radius: 15px;
          z-index: 3000;
          box-shadow: var(--shadow-heavy);
          animation: slideInRight 0.5s ease, bounceIn 0.5s ease;
          border: 1px solid rgba(255, 255, 255, 0.2);
          backdrop-filter: blur(10px);
      }

      /* Error Notification */
      .error-notification {
          position: fixed;
          top: 20px;
          right: 20px;
          background: var(--danger-gradient);
          color: white;
          padding: 1.5rem 2rem;
          border-radius: 15px;
          z-index: 3000;
          box-shadow: var(--shadow-heavy);
          animation: slideInRight 0.5s ease, bounceIn 0.5s ease;
          border: 1px solid rgba(255, 255, 255, 0.2);
          backdrop-filter: blur(10px);
      }

      /* User Profile Section */
      .profile-section {
          display: none;
          align-items: center;
          gap: 1rem;
      }

      .profile-avatar {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--accent-gradient);
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: 700;
          box-shadow: 0 4px 10px rgba(79, 172, 254, 0.4);
          cursor: pointer;
          transition: all var(--animation-fast) ease;
      }

      .profile-avatar:hover {
          transform: scale(1.1);
      }

      .profile-name {
          color: white;
          font-weight: 600;
          cursor: pointer;
      }

      .profile-name:hover {
          text-decoration: underline;
      }

      .logout-btn {
          background: none;
          border: none;
          color: white;
          cursor: pointer;
          font-size: 1rem;
          margin-left: 1rem;
          transition: all var(--animation-fast) ease;
      }

      .logout-btn:hover {
          color: #f5576c;
          transform: translateY(-2px);
      }

      /* Responsive Design */
      @media (max-width: 768px) {
          .hero h1 {
              font-size: 2.5rem;
          }

          .main-container {
              padding: 1rem;
          }

          .user-grid {
              grid-template-columns: 1fr;
              gap: 1.5rem;
          }

          .search-section {
              padding: 2rem;
          }

          .modal-content, .login-content, .profile-content, .edit-profile-content {
              padding: 2rem;
              margin: 1rem;
          }

          .profile-info {
              flex-direction: column;
              text-align: center;
          }

          .profile-stats {
              justify-content: center;
          }

          .profile-actions {
              flex-direction: column;
          }

          .floating-shape {
              display: none;
          }
      }

      /* Scroll Animations */
      @media (prefers-reduced-motion: no-preference) {
          .user-card {
              opacity: 0;
              animation: fadeInUp 0.6s ease-out forwards;
          }

          .user-card:nth-child(1) { animation-delay: 0.1s; }
          .user-card:nth-child(2) { animation-delay: 0.2s; }
          .user-card:nth-child(3) { animation-delay: 0.3s; }
          .user-card:nth-child(4) { animation-delay: 0.4s; }
          .user-card:nth-child(5) { animation-delay: 0.5s; }
          .user-card:nth-child(6) { animation-delay: 0.6s; }
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav>
      <div class="nav-container">
        <div class="logo"><i class="fas fa-exchange-alt"></i> SkillSwap</div>
        <div class="profile-section" id="profileSection">
          <div class="profile-avatar" id="profileAvatar"></div>
          <span class="profile-name" id="profileName"></span>
          <button class="logout-btn" id="logoutBtn">
            <i class="fas fa-sign-out-alt"></i>
          </button>
        </div>
        <button class="login-btn" id="loginBtn">
          <i class="fas fa-sign-in-alt"></i> Login
        </button>
      </div>
    </nav>

    <!-- Main Container -->
    <div class="main-container">
      <!-- Hero Section -->
      <div class="hero">
        <h1>Connect & Learn Together</h1>
        <p>Exchange skills with talented people from around the world</p>
      </div>

      <!-- Search Section -->
      <div class="search-section">
        <div class="search-container">
          <i class="fas fa-search search-icon"></i>
          <input
            type="text"
            class="search-input"
            id="searchInput"
            placeholder="Search by name or skill..."
          />
        </div>
      </div>

      <!-- User Grid -->
      <div class="user-grid" id="userGrid"></div>

      <!-- Pagination -->
      <div class="pagination" id="pagination"></div>
    </div>

    <!-- Login Modal -->
    <div class="login-modal" id="loginModal">
      <div class="login-content">
        <div class="login-header">
          <h3 class="login-title">
            <i class="fas fa-sign-in-alt"></i> Login to SkillSwap
          </h3>
          <button class="login-close-btn" id="loginCloseBtn">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <div class="login-form-group">
          <label class="login-form-label">
            <i class="fas fa-envelope"></i> Email
          </label>
          <input
            type="email"
            class="login-form-input"
            id="loginEmail"
            placeholder="Enter your email"
          />
        </div>

        <div class="login-form-group">
          <label class="login-form-label">
            <i class="fas fa-lock"></i> Password
          </label>
          <input
            type="password"
            class="login-form-input"
            id="loginPassword"
            placeholder="Enter your password"
          />
        </div>

        <button class="login-submit-btn" id="loginSubmitBtn">
          <i class="fas fa-sign-in-alt"></i> Login
        </button>

        <div class="form-footer">
          Don't have an account? <a href="#" id="showRegisterBtn">Register</a>
        </div>
      </div>
    </div>

    <!-- Register Modal -->
    <div class="login-modal" id="registerModal">
      <div class="login-content">
        <div class="login-header">
          <h3 class="login-title">
            <i class="fas fa-user-plus"></i> Register for SkillSwap
          </h3>
          <button class="login-close-btn" id="registerCloseBtn">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <div class="login-form-group">
          <label class="login-form-label">
            <i class="fas fa-user"></i> Full Name
          </label>
          <input
            type="text"
            class="login-form-input"
            id="registerName"
            placeholder="Enter your full name"
          />
        </div>

        <div class="login-form-group">
          <label class="login-form-label">
            <i class="fas fa-envelope"></i> Email
          </label>
          <input
            type="email"
            class="login-form-input"
            id="registerEmail"
            placeholder="Enter your email"
          />
        </div>

        <div class="login-form-group">
          <label class="login-form-label">
            <i class="fas fa-lock"></i> Password
          </label>
          <input
            type="password"
            class="login-form-input"
            id="registerPassword"
            placeholder="Create a password"
          />
        </div>

        <div class="login-form-group">
          <label class="login-form-label">
            <i class="fas fa-lock"></i> Confirm Password
          </label>
          <input
            type="password"
            class="login-form-input"
            id="registerConfirmPassword"
            placeholder="Confirm your password"
          />
        </div>

        <button class="login-submit-btn" id="registerSubmitBtn">
          <i class="fas fa-user-plus"></i> Register
        </button>

        <div class="form-footer">
          Already have an account? <a href="#" id="showLoginBtn">Login</a>
        </div>
      </div>
    </div>

    <!-- Profile Modal -->
    <div class="profile-modal" id="profileModal">
      <div class="profile-content">
        <div class="profile-header">
          <h3 class="profile-title">
            <i class="fas fa-user"></i> My Profile
          </h3>
          <button class="profile-close-btn" id="profileCloseBtn">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <div class="profile-body">
          <div class="profile-info">
            <div class="profile-avatar-large" id="profileAvatarLarge"></div>
            <div class="profile-details">
              <h2 class="profile-name-large" id="profileNameLarge"></h2>
              <p class="profile-email" id="profileEmail"></p>
              <div class="profile-stats">
                <div class="stat-item">
                  <div class="stat-value" id="skillsCount">0</div>
                  <div class="stat-label">Skills</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value" id="wantsCount">0</div>
                  <div class="stat-label">Wants to Learn</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value" id="swapsCount">0</div>
                  <div class="stat-label">Swaps</div>
                </div>
              </div>
            </div>
          </div>

          <div class="profile-skills-section">
            <h3 class="profile-section-title">
              <i class="fas fa-tools"></i> My Skills
            </h3>
            <div class="skills-tags" id="profileSkillsTags"></div>
          </div>

          <div class="profile-skills-section">
            <h3 class="profile-section-title">
              <i class="fas fa-heart"></i> Want to Learn
            </h3>
            <div class="skills-tags" id="profileWantsTags"></div>
          </div>

          <div class="profile-actions">
            <button class="profile-action-btn edit-profile-btn" id="editProfileBtn">
              <i class="fas fa-edit"></i> Edit Profile
            </button>
            <button class="profile-action-btn logout-profile-btn" id="logoutProfileBtn">
              <i class="fas fa-sign-out-alt"></i> Logout
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="edit-profile-modal" id="editProfileModal">
      <div class="edit-profile-content">
        <div class="profile-header">
          <h3 class="profile-title">
            <i class="fas fa-edit"></i> Edit Profile
          </h3>
          <button class="profile-close-btn" id="editProfileCloseBtn">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <div class="profile-body">
          <div class="login-form-group">
            <label class="login-form-label">
              <i class="fas fa-user"></i> Full Name
            </label>
            <input
              type="text"
              class="login-form-input"
              id="editProfileName"
              placeholder="Enter your full name"
            />
          </div>

          <div class="login-form-group">
            <label class="login-form-label">
              <i class="fas fa-envelope"></i> Email
            </label>
            <input
              type="email"
              class="login-form-input"
              id="editProfileEmail"
              placeholder="Enter your email"
              disabled
            />
          </div>

          <div class="edit-skills-container">
            <h3 class="profile-section-title">
              <i class="fas fa-tools"></i> My Skills
            </h3>
            <div class="skills-input-container">
              <input
                type="text"
                class="skills-input"
                id="newSkillInput"
                placeholder="Add a new skill"
              />
              <button class="add-skill-btn" id="addSkillBtn">
                <i class="fas fa-plus"></i> Add
              </button>
            </div>
            <div class="skills-list" id="skillsList"></div>
          </div>

          <div class="edit-skills-container">
            <h3 class="profile-section-title">
              <i class="fas fa-heart"></i> Want to Learn
            </h3>
            <div class="skills-input-container">
              <input
                type="text"
                class="skills-input"
                id="newWantInput"
                placeholder="Add something you want to learn"
              />
              <button class="add-skill-btn" id="addWantBtn">
                <i class="fas fa-plus"></i> Add
              </button>
            </div>
            <div class="skills-list" id="wantsList"></div>
          </div>

          <div class="profile-actions">
            <button class="profile-action-btn edit-profile-btn" id="saveProfileBtn">
              <i class="fas fa-save"></i> Save Changes
            </button>
            <button class="profile-action-btn logout-profile-btn" id="cancelEditProfileBtn">
              <i class="fas fa-times"></i> Cancel
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Swap Request Modal -->
    <div class="modal" id="requestModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title">
            <i class="fas fa-handshake"></i> Send Swap Request
          </h3>
          <button class="close-btn" id="closeBtn">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <div class="form-group">
          <label class="form-label">
            <i class="fas fa-user-graduate"></i> Your Skill
          </label>
          <select class="form-select" id="yourSkill">
            <option value="HTML">HTML</option>
            <option value="CSS">CSS</option>
            <option value="JavaScript">JavaScript</option>
            <option value="React">React</option>
            <option value="Node.js">Node.js</option>
            <option value="Python">Python</option>
            <option value="Design">Design</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">
            <i class="fas fa-star"></i> Their Skill
          </label>
          <select class="form-select" id="theirSkill">
            <option value="React">React</option>
            <option value="Design">Design</option>
            <option value="Python">Python</option>
            <option value="Node.js">Node.js</option>
            <option value="JavaScript">JavaScript</option>
            <option value="HTML">HTML</option>
            <option value="CSS">CSS</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">
            <i class="fas fa-comment"></i> Message
          </label>
          <textarea
            class="form-textarea"
            id="requestMsg"
            placeholder="Hi! I'd love to swap skills with you. Let me know if you're interested!"
          ></textarea>
        </div>

        <button class="submit-btn" id="sendRequest">
          <i class="fas fa-paper-plane"></i> Send Request
        </button>
      </div>
    </div>

    <script>
      // Database simulation (in a real app, this would be a backend API)
      const database = {
          users: [
              {
                  id: 1,
                  name: "Alex Rivera",
                  email: "alex@example.com",
                  password: "password123",
                  skills: ["HTML", "CSS", "JavaScript"],
                  wants: ["React", "Design"],
                  swapsCompleted: 5
              },
              {
                  id: 2,
                  name: "Sarah Chen",
                  email: "sarah@example.com",
                  password: "password123",
                  skills: ["React", "Node.js"],
                  wants: ["Python", "Design"],
                  swapsCompleted: 3
              },
              {
                  id: 3,
                  name: "Marcus Johnson",
                  email: "marcus@example.com",
                  password: "password123",
                  skills: ["Python", "Design"],
                  wants: ["JavaScript", "React"],
                  swapsCompleted: 7
              }
          ],
          sessions: [],
          swapRequests: []
      };

      // Sample users data with more realistic entries
      const users = [
          { id: 1, name: 'Alex Rivera', skills: ['HTML', 'CSS', 'JavaScript'], wants: ['React', 'Design'] },
          { id: 2, name: 'Sarah Chen', skills: ['React', 'Node.js'], wants: ['Python', 'Design'] },
          { id: 3, name: 'Marcus Johnson', skills: ['Python', 'Design'], wants: ['JavaScript', 'React'] },
          { id: 4, name: 'Emma Wilson', skills: ['Design', 'CSS'], wants: ['JavaScript', 'Node.js'] },
          { id: 5, name: 'David Kim', skills: ['Node.js', 'Python'], wants: ['React', 'Design'] },
          { id: 6, name: 'Lisa Brown', skills: ['JavaScript', 'React'], wants: ['Python', 'Design'] },
          { id: 7, name: 'James Taylor', skills: ['HTML', 'CSS', 'Design'], wants: ['React', 'Node.js'] },
          { id: 8, name: 'Anna Garcia', skills: ['Python', 'JavaScript'], wants: ['React', 'Design'] },
          { id: 9, name: 'Tom Anderson', skills: ['React', 'Design'], wants: ['Python', 'Node.js'] },
          { id: 10, name: 'Maya Patel', skills: ['CSS', 'Design', 'HTML'], wants: ['JavaScript', 'React'] }
      ];

      // Global variables
      let currentPage = 1;
      const itemsPerPage = 6;
      let filteredUsers = [...users];
      let targetUser = null;
      let currentUser = null;

      // DOM elements
      const userGrid = document.getElementById('userGrid');
      const pagination = document.getElementById('pagination');
      const searchInput = document.getElementById('searchInput');
      const modal = document.getElementById('requestModal');
      const closeBtn = document.getElementById('closeBtn');
      const yourSkill = document.getElementById('yourSkill');
      const theirSkill = document.getElementById('theirSkill');
      const requestMsg = document.getElementById('requestMsg');
      const sendBtn = document.getElementById('sendRequest');
      const loginBtn = document.getElementById('loginBtn');
      const loginModal = document.getElementById('loginModal');
      const loginCloseBtn = document.getElementById('loginCloseBtn');
      const loginEmail = document.getElementById('loginEmail');
      const loginPassword = document.getElementById('loginPassword');
      const loginSubmitBtn = document.getElementById('loginSubmitBtn');
      const registerModal = document.getElementById('registerModal');
      const registerCloseBtn = document.getElementById('registerCloseBtn');
      const registerName = document.getElementById('registerName');
      const registerEmail = document.getElementById('registerEmail');
      const registerPassword = document.getElementById('registerPassword');
      const registerConfirmPassword = document.getElementById('registerConfirmPassword');
      const registerSubmitBtn = document.getElementById('registerSubmitBtn');
      const showRegisterBtn = document.getElementById('showRegisterBtn');
      const showLoginBtn = document.getElementById('showLoginBtn');
      const profileSection = document.getElementById('profileSection');
      const profileAvatar = document.getElementById('profileAvatar');
      const profileName = document.getElementById('profileName');
      const logoutBtn = document.getElementById('logoutBtn');
      const profileModal = document.getElementById('profileModal');
      const profileCloseBtn = document.getElementById('profileCloseBtn');
      const profileAvatarLarge = document.getElementById('profileAvatarLarge');
      const profileNameLarge = document.getElementById('profileNameLarge');
      const profileEmail = document.getElementById('profileEmail');
      const skillsCount = document.getElementById('skillsCount');
      const wantsCount = document.getElementById('wantsCount');
      const swapsCount = document.getElementById('swapsCount');
      const profileSkillsTags = document.getElementById('profileSkillsTags');
      const profileWantsTags = document.getElementById('profileWantsTags');
      const editProfileBtn = document.getElementById('editProfileBtn');
      const logoutProfileBtn = document.getElementById('logoutProfileBtn');
      const editProfileModal = document.getElementById('editProfileModal');
      const editProfileCloseBtn = document.getElementById('editProfileCloseBtn');
      const editProfileName = document.getElementById('editProfileName');
      const editProfileEmail = document.getElementById('editProfileEmail');
      const newSkillInput = document.getElementById('newSkillInput');
      const addSkillBtn = document.getElementById('addSkillBtn');
      const skillsList = document.getElementById('skillsList');
      const newWantInput = document.getElementById('newWantInput');
      const addWantBtn = document.getElementById('addWantBtn');
      const wantsList = document.getElementById('wantsList');
      const saveProfileBtn = document.getElementById('saveProfileBtn');
      const cancelEditProfileBtn = document.getElementById('cancelEditProfileBtn');

      // Check if user is logged in on page load
      document.addEventListener('DOMContentLoaded', () => {
          checkSession();
          renderUserGrid();
      });

      // Check for active session
      function checkSession() {
          const sessionToken = localStorage.getItem('skillswap_session');
          if (sessionToken) {
              const session = database.sessions.find(s => s.token === sessionToken);
              if (session) {
                  const user = database.users.find(u => u.id === session.userId);
                  if (user) {
                      loginUser(user);
                      return;
                  }
              }
          }
          logoutUser();
      }

      // Login user
      function loginUser(user) {
          currentUser = user;
          loginBtn.style.display = 'none';
          profileSection.style.display = 'flex';
          profileAvatar.textContent = getInitials(user.name);
          profileName.textContent = user.name;
      }

      // Logout user
      function logoutUser() {
          currentUser = null;
          localStorage.removeItem('skillswap_session');
          loginBtn.style.display = 'block';
          profileSection.style.display = 'none';
          if (profileModal.classList.contains('show')) {
              profileModal.classList.remove('show');
          }
          if (editProfileModal.classList.contains('show')) {
              editProfileModal.classList.remove('show');
          }
      }

      // Initialize user avatars
      function getInitials(name) {
          return name.split(' ').map(word => word[0]).join('').toUpperCase();
      }

      // Render user grid
      function renderUserGrid() {
          userGrid.innerHTML = '';

          if (filteredUsers.length === 0) {
              userGrid.innerHTML = `
                  <div class="empty-state" style="grid-column: 1 / -1;">
                      <i class="fas fa-search"></i>
                      <h3>No users found</h3>
                      <p>Try adjusting your search criteria</p>
                  </div>
              `;
              return;
          }

          const startIndex = (currentPage - 1) * itemsPerPage;
          const endIndex = startIndex + itemsPerPage;
          const currentUsers = filteredUsers.slice(startIndex, endIndex);

          currentUsers.forEach((user, index) => {
              const userCard = document.createElement('div');
              userCard.className = 'user-card';
              userCard.style.animationDelay = `${index * 0.1}s`;

              userCard.innerHTML = `
                  <div class="user-avatar">
                      ${getInitials(user.name)}
                  </div>
                  <div class="user-name">${user.name}</div>

                  <div class="skills-section">
                      <div class="skills-label">
                          <i class="fas fa-tools"></i> Skills
                      </div>
                      <div class="skills-tags">
                          ${user.skills.map(skill => `<span class="skill-tag">${skill}</span>`).join('')}
                      </div>
                  </div>

                  <div class="skills-section">
                      <div class="skills-label">
                          <i class="fas fa-heart"></i> Wants to Learn
                      </div>
                      <div class="skills-tags">
                          ${user.wants.map(want => `<span class="wants-tag">${want}</span>`).join('')}
                      </div>
                  </div>

                  <button class="swap-btn" onclick="openRequestModal(${user.id})">
                      <i class="fas fa-handshake"></i> Request Swap
                  </button>
              `;

              userGrid.appendChild(userCard);
          });

          renderPagination();
      }

      // Render pagination
      function renderPagination() {
          pagination.innerHTML = '';
          const totalPages = Math.ceil(filteredUsers.length / itemsPerPage);

          if (totalPages <= 1) return;

          for (let i = 1; i <= totalPages; i++) {
              const pageBtn = document.createElement('a');
              pageBtn.href = '#';
              pageBtn.textContent = i;
              pageBtn.className = i === currentPage ? 'active' : '';
              pageBtn.onclick = (e) => {
                  e.preventDefault();
                  currentPage = i;
                  renderUserGrid();
                  window.scrollTo({ top: 0, behavior: 'smooth' });
              };
              pagination.appendChild(pageBtn);
          }
      }

      // Search functionality
      searchInput.addEventListener('input', (e) => {
          const query = e.target.value.toLowerCase().trim();

          if (query === '') {
              filteredUsers = [...users];
          } else {
              filteredUsers = users.filter(user =>
                  user.name.toLowerCase().includes(query) ||
                  user.skills.some(skill => skill.toLowerCase().includes(query)) ||
                  user.wants.some(want => want.toLowerCase().includes(query))
              );
          }

          currentPage = 1;
          renderUserGrid();
      });

      // Modal functionality
      function openRequestModal(userId) {
          if (!currentUser) {
              showNotification('Please login to send swap requests', 'warning');
              loginModal.classList.add('show');
              return;
          }

          targetUser = users.find(user => user.id === userId);
          if (targetUser) {
              // Update modal with user's skills
              updateSkillOptions();
              modal.classList.add('show');
              document.body.style.overflow = 'hidden';
          }
      }

      function updateSkillOptions() {
          // Clear and populate "their skill" dropdown with target user's skills
          theirSkill.innerHTML = '';
          targetUser.skills.forEach(skill => {
              const option = document.createElement('option');
              option.value = skill;
              option.textContent = skill;
              theirSkill.appendChild(option);
          });
      }

      function closeModal() {
          modal.classList.remove('show');
          document.body.style.overflow = 'auto';
          targetUser = null;
      }

      // Modal event listeners
      closeBtn.onclick = closeModal;

      modal.onclick = (e) => {
          if (e.target === modal) {
              closeModal();
          }
      };

      // Send request
      sendBtn.onclick = () => {
          const yourSkillValue = yourSkill.value;
          const theirSkillValue = theirSkill.value;
          const message = requestMsg.value.trim();

          if (!message) {
              showNotification('Please enter a message', 'warning');
              return;
          }

          // Simulate sending request
          sendBtn.innerHTML = '<div class="loading"></div> Sending...';
          sendBtn.disabled = true;

          setTimeout(() => {
              // In a real app, this would be an API call to your backend
              database.swapRequests.push({
                  fromUserId: currentUser.id,
                  fromUserName: currentUser.name,
                  toUserId: targetUser.id,
                  toUserName: targetUser.name,
                  yourSkill: yourSkillValue,
                  theirSkill: theirSkillValue,
                  message: message,
                  timestamp: new Date().toISOString(),
                  status: 'pending'
              });

              console.log('Swap request sent:', {
                  to: targetUser.name,
                  yourSkill: yourSkillValue,
                  theirSkill: theirSkillValue,
                  message: message
              });

              // Success feedback
              sendBtn.innerHTML = '<i class="fas fa-check"></i> Sent!';

              setTimeout(() => {
                  closeModal();
                  sendBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Send Request';
                  sendBtn.disabled = false;
                  requestMsg.value = '';

                  showNotification(`Request sent to ${targetUser.name}!`, 'success');
              }, 1000);
          }, 1500);
      };

      // Login functionality
      loginBtn.onclick = () => {
          loginModal.classList.add('show');
      };

      loginCloseBtn.onclick = () => {
          loginModal.classList.remove('show');
      };

      loginSubmitBtn.onclick = () => {
          const email = loginEmail.value.trim();
          const password = loginPassword.value.trim();

          if (!email || !password) {
              showNotification('Please fill in all fields', 'warning');
              return;
          }

          // Simulate API call
          loginSubmitBtn.innerHTML = '<div class="loading"></div> Logging in...';
          loginSubmitBtn.disabled = true;

          setTimeout(() => {
              const user = database.users.find(u => u.email === email && u.password === password);
              
              if (user) {
                  // Create session
                  const sessionToken = generateSessionToken();
                  database.sessions.push({
                      userId: user.id,
                      token: sessionToken,
                      createdAt: new Date().toISOString()
                  });
                  
                  // Store session in localStorage
                  localStorage.setItem('skillswap_session', sessionToken);
                  
                  loginUser(user);
                  loginModal.classList.remove('show');
                  loginEmail.value = '';
                  loginPassword.value = '';
                  showNotification('Login successful!', 'success');
              } else {
                  showNotification('Invalid email or password', 'error');
              }
              
              loginSubmitBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Login';
              loginSubmitBtn.disabled = false;
          }, 1000);
      };

      // Register functionality
      showRegisterBtn.onclick = (e) => {
          e.preventDefault();
          loginModal.classList.remove('show');
          registerModal.classList.add('show');
      };

      showLoginBtn.onclick = (e) => {
          e.preventDefault();
          registerModal.classList.remove('show');
          loginModal.classList.add('show');
      };

      registerCloseBtn.onclick = () => {
          registerModal.classList.remove('show');
      };

      registerSubmitBtn.onclick = () => {
          const name = registerName.value.trim();
          const email = registerEmail.value.trim();
          const password = registerPassword.value.trim();
          const confirmPassword = registerConfirmPassword.value.trim();

          if (!name || !email || !password || !confirmPassword) {
              showNotification('Please fill in all fields', 'warning');
              return;
          }

          if (password !== confirmPassword) {
              showNotification('Passwords do not match', 'warning');
              return;
          }

          if (password.length < 6) {
              showNotification('Password must be at least 6 characters', 'warning');
              return;
          }

          // Check if email already exists
          if (database.users.some(u => u.email === email)) {
              showNotification('Email already registered', 'warning');
              return;
          }

          // Simulate API call
          registerSubmitBtn.innerHTML = '<div class="loading"></div> Registering...';
          registerSubmitBtn.disabled = true;

          setTimeout(() => {
              // Create new user
              const newUser = {
                  id: database.users.length + 1,
                  name: name,
                  email: email,
                  password: password,
                  skills: [],
                  wants: [],
                  swapsCompleted: 0
              };
              
              database.users.push(newUser);
              
              // Create session
              const sessionToken = generateSessionToken();
              database.sessions.push({
                  userId: newUser.id,
                  token: sessionToken,
                  createdAt: new Date().toISOString()
              });
              
              // Store session in localStorage
              localStorage.setItem('skillswap_session', sessionToken);
              
              loginUser(newUser);
              registerModal.classList.remove('show');
              registerName.value = '';
              registerEmail.value = '';
              registerPassword.value = '';
              registerConfirmPassword.value = '';
              showNotification('Registration successful!', 'success');
              
              registerSubmitBtn.innerHTML = '<i class="fas fa-user-plus"></i> Register';
              registerSubmitBtn.disabled = false;
          }, 1500);
      };

      // Profile functionality
      profileAvatar.onclick = () => {
          openProfileModal();
      };

      profileName.onclick = () => {
          openProfileModal();
      };

      function openProfileModal() {
          if (!currentUser) return;
          
          // Update profile modal with current user data
          profileAvatarLarge.textContent = getInitials(currentUser.name);
          profileNameLarge.textContent = currentUser.name;
          profileEmail.textContent = currentUser.email;
          skillsCount.textContent = currentUser.skills.length;
          wantsCount.textContent = currentUser.wants.length;
          swapsCount.textContent = currentUser.swapsCompleted || 0;
          
          // Update skills and wants tags
          profileSkillsTags.innerHTML = currentUser.skills.map(skill => 
              `<span class="skill-tag">${skill}</span>`
          ).join('');
          
          profileWantsTags.innerHTML = currentUser.wants.map(want => 
              `<span class="wants-tag">${want}</span>`
          ).join('');
          
          profileModal.classList.add('show');
      }

      profileCloseBtn.onclick = () => {
          profileModal.classList.remove('show');
      };

      profileModal.onclick = (e) => {
          if (e.target === profileModal) {
              profileModal.classList.remove('show');
          }
      };

      // Edit profile functionality
      editProfileBtn.onclick = () => {
          if (!currentUser) return;
          
          // Populate edit form with current user data
          editProfileName.value = currentUser.name;
          editProfileEmail.value = currentUser.email;
          
          // Populate skills list
          skillsList.innerHTML = currentUser.skills.map(skill => `
              <div class="skill-item">
                  ${skill}
                  <button class="remove-skill-btn" data-skill="${skill}">
                      <i class="fas fa-times"></i>
                  </button>
              </div>
          `).join('');
          
          // Populate wants list
          wantsList.innerHTML = currentUser.wants.map(want => `
              <div class="skill-item">
                  ${want}
                  <button class="remove-skill-btn" data-want="${want}">
                      <i class="fas fa-times"></i>
                  </button>
              </div>
          `).join('');
          
          // Add event listeners to remove buttons
          document.querySelectorAll('.remove-skill-btn[data-skill]').forEach(btn => {
              btn.onclick = () => {
                  const skill = btn.getAttribute('data-skill');
                  skillsList.removeChild(btn.parentElement);
              };
          });
          
          document.querySelectorAll('.remove-skill-btn[data-want]').forEach(btn => {
              btn.onclick = () => {
                  const want = btn.getAttribute('data-want');
                  wantsList.removeChild(btn.parentElement);
              };
          });
          
          profileModal.classList.remove('show');
          editProfileModal.classList.add('show');
      };

      editProfileCloseBtn.onclick = () => {
          editProfileModal.classList.remove('show');
      };

      cancelEditProfileBtn.onclick = () => {
          editProfileModal.classList.remove('show');
      };

      editProfileModal.onclick = (e) => {
          if (e.target === editProfileModal) {
              editProfileModal.classList.remove('show');
          }
      };

      // Add skill functionality
      addSkillBtn.onclick = () => {
          const skill = newSkillInput.value.trim();
          if (!skill) return;
          
          // Check if skill already exists
          const existingSkills = Array.from(skillsList.children).map(el => 
              el.textContent.replace('×', '').trim()
          );
          
          if (existingSkills.includes(skill)) {
              showNotification('Skill already added', 'warning');
              return;
          }
          
          // Add new skill
          const skillItem = document.createElement('div');
          skillItem.className = 'skill-item';
          skillItem.innerHTML = `
              ${skill}
              <button class="remove-skill-btn" data-skill="${skill}">
                  <i class="fas fa-times"></i>
              </button>
          `;
          
          skillsList.appendChild(skillItem);
          
          // Add remove event listener
          skillItem.querySelector('.remove-skill-btn').onclick = () => {
              skillsList.removeChild(skillItem);
          };
          
          newSkillInput.value = '';
      };

      // Add want functionality
      addWantBtn.onclick = () => {
          const want = newWantInput.value.trim();
          if (!want) return;
          
          // Check if want already exists
          const existingWants = Array.from(wantsList.children).map(el => 
              el.textContent.replace('×', '').trim()
          );
          
          if (existingWants.includes(want)) {
              showNotification('Want to learn already added', 'warning');
              return;
          }
          
          // Add new want
          const wantItem = document.createElement('div');
          wantItem.className = 'skill-item';
          wantItem.innerHTML = `
              ${want}
              <button class="remove-skill-btn" data-want="${want}">
                  <i class="fas fa-times"></i>
              </button>
          `;
          
          wantsList.appendChild(wantItem);
          
          // Add remove event listener
          wantItem.querySelector('.remove-skill-btn').onclick = () => {
              wantsList.removeChild(wantItem);
          };
          
          newWantInput.value = '';
      };

      // Save profile changes
      saveProfileBtn.onclick = () => {
          const newName = editProfileName.value.trim();
          if (!newName) {
              showNotification('Name cannot be empty', 'warning');
              return;
          }
          
          // Get updated skills and wants
          const updatedSkills = Array.from(skillsList.children).map(el => 
              el.textContent.replace('×', '').trim()
          );
          
          const updatedWants = Array.from(wantsList.children).map(el => 
              el.textContent.replace('×', '').trim()
          );
          
          // Update current user in database
          const userIndex = database.users.findIndex(u => u.id === currentUser.id);
          if (userIndex !== -1) {
              database.users[userIndex].name = newName;
              database.users[userIndex].skills = updatedSkills;
              database.users[userIndex].wants = updatedWants;
              
              // Update current user object
              currentUser.name = newName;
              currentUser.skills = updatedSkills;
              currentUser.wants = updatedWants;
              
              // Update profile display
              profileName.textContent = newName;
              profileNameLarge.textContent = newName;
              profileAvatar.textContent = getInitials(newName);
              profileAvatarLarge.textContent = getInitials(newName);
              
              showNotification('Profile updated successfully', 'success');
              editProfileModal.classList.remove('show');
              openProfileModal();
          }
      };

      // Logout functionality
      logoutBtn.onclick = () => {
          logoutUser();
          showNotification('Logged out successfully', 'success');
      };

      logoutProfileBtn.onclick = () => {
          logoutUser();
          showNotification('Logged out successfully', 'success');
      };

      // Generate random session token
      function generateSessionToken() {
          return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
              const r = Math.random() * 16 | 0,
                  v = c === 'x' ? r : (r & 0x3 | 0x8);
              return v.toString(16);
          });
      }

      // Show notification
      function showNotification(message, type) {
          const notification = document.createElement('div');
          notification.className = type === 'error' ? 'error-notification' : 'success-notification';
          
          let icon = '';
          
          switch (type) {
              case 'success':
                  icon = 'fa-check-circle';
                  break;
              case 'error':
                  icon = 'fa-exclamation-circle';
                  break;
              case 'warning':
                  icon = 'fa-exclamation-triangle';
                  notification.className = 'success-notification';
                  notification.style.background = 'var(--warning-gradient)';
                  break;
              default:
                  icon = 'fa-info-circle';
          }
          
          notification.innerHTML = `<i class="fas ${icon}"></i> ${message}`;
          document.body.appendChild(notification);
          
          setTimeout(() => {
              notification.style.animation = 'fadeOut 0.5s ease';
              setTimeout(() => {
                  notification.remove();
              }, 500);
          }, 3000);
          
          // Add fadeOut animation if not already present
          if (!document.getElementById('fadeOutAnimation')) {
              const style = document.createElement('style');
              style.id = 'fadeOutAnimation';
              style.textContent = `
                  @keyframes fadeOut {
                      from { opacity: 1; transform: translateX(0); }
                      to { opacity: 0; transform: translateX(100px); }
                  }
              `;
              document.head.appendChild(style);
          }
      }

      // Keyboard shortcuts
      document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') {
              if (modal.classList.contains('show')) {
                  closeModal();
              }
              if (loginModal.classList.contains('show')) {
                  loginModal.classList.remove('show');
              }
              if (registerModal.classList.contains('show')) {
                  registerModal.classList.remove('show');
              }
              if (profileModal.classList.contains('show')) {
                  profileModal.classList.remove('show');
              }
              if (editProfileModal.classList.contains('show')) {
                  editProfileModal.classList.remove('show');
              }
          }
      });

      // Initialize the app
      renderUserGrid();
    </script>
  </body>
</html>